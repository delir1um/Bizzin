<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light only">
    <meta name="supported-color-schemes" content="light">
    <title>Your Daily Business Digest</title>
    <style type="text/css">
        /* Force light mode with gradient hack - most effective for Shortwave */
        :root {
            color-scheme: light !important;
            supported-color-schemes: light !important;
        }
        
        /* Universal gradient hack - prevents dark mode inversion */
        * {
            background: linear-gradient(to right, #ffffff, #ffffff) !important;
            color: #1e293b !important;
            -webkit-text-fill-color: #1e293b !important;
        }
        
        /* Body and HTML aggressive overrides */
        html, body {
            background: linear-gradient(to right, #ffffff, #ffffff) !important;
            background-color: #ffffff !important;
            color: #1e293b !important;
            margin: 0 !important;
            padding: 0 !important;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif !important;
            width: 100% !important;
            height: 100% !important;
        }
        
        /* Shortwave specific overrides */
        [data-ogsc], [data-ogsb], .ReadMsgBody, .ExternalClass, .ExternalClass * {
            background: linear-gradient(to right, #ffffff, #ffffff) !important;
            color: #1e293b !important;
        }
        
        /* Force light on all text elements */
        h1, h2, h3, h4, h5, h6, p, span, div, a {
            color: #1e293b !important;
            background: transparent !important;
            -webkit-text-fill-color: #1e293b !important;
        }
        
        /* Color classes with gradient backgrounds */
        .brand-orange { 
            color: #ea7a57 !important; 
            -webkit-text-fill-color: #ea7a57 !important;
            background: linear-gradient(to right, #ffffff, #ffffff) !important;
        }
        .text-gray { 
            color: #64748b !important; 
            -webkit-text-fill-color: #64748b !important;
            background: linear-gradient(to right, #ffffff, #ffffff) !important;
        }
        .text-dark { 
            color: #1e293b !important; 
            -webkit-text-fill-color: #1e293b !important;
            background: linear-gradient(to right, #ffffff, #ffffff) !important;
        }
        
        /* Card backgrounds with gradient hack */
        .card {
            background: linear-gradient(to right, #ffffff, #ffffff) !important;
            border: 1px solid #e2e8f0 !important;
            border-radius: 8px !important;
            padding: 20px !important;
            margin-bottom: 16px !important;
        }
        
        .stats-card {
            background: linear-gradient(to right, #ffffff, #ffffff) !important;
            border: 1px solid #e2e8f0 !important;
            border-radius: 8px !important;
            padding: 16px !important;
            text-align: center !important;
            margin-bottom: 8px !important;
        }
        
        .goal-card {
            background: linear-gradient(to right, #ffffff, #ffffff) !important;
            border: 1px solid #e2e8f0 !important;
            border-radius: 8px !important;
            padding: 16px !important;
            margin-bottom: 12px !important;
        }
        
        /* Button with orange gradient */
        .btn {
            background: linear-gradient(135deg, #ea7a57 0%, #e65100 100%) !important;
            color: #ffffff !important;
            -webkit-text-fill-color: #ffffff !important;
            padding: 12px 20px !important;
            border-radius: 6px !important;
            text-decoration: none !important;
            font-weight: 500 !important;
            display: inline-block !important;
            font-size: 14px !important;
        }
        
        /* Progress bar backgrounds */
        .progress-bar {
            width: 100%;
            height: 8px;
            background: linear-gradient(to right, #f1f5f9, #f1f5f9) !important;
            border-radius: 4px;
            overflow: hidden;
            margin: 8px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #ea7a57 0%, #e65100 100%) !important;
            border-radius: 4px;
        }
        
        /* Dark mode media query override */
        @media (prefers-color-scheme: dark) {
            *, *::before, *::after {
                background: linear-gradient(to right, #ffffff, #ffffff) !important;
                color: #1e293b !important;
                -webkit-text-fill-color: #1e293b !important;
            }
            .brand-orange {
                color: #ea7a57 !important;
                -webkit-text-fill-color: #ea7a57 !important;
            }
            .text-gray {
                color: #64748b !important;
                -webkit-text-fill-color: #64748b !important;
            }
        }
        
        /* Mobile responsive */
        @media only screen and (max-width: 600px) {
            .container { width: 100% !important; padding: 12px !important; }
            .stats-grid { flex-direction: column !important; }
            .stats-col { width: 100% !important; margin-bottom: 8px !important; }
            .health-grid { flex-direction: column !important; }
        }
    </style>
</head>
<body style="background: linear-gradient(to right, #ffffff, #ffffff) !important; margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif; color: #1e293b !important;">
    
    <div style="background: linear-gradient(to right, #ffffff, #ffffff) !important; width: 100%; min-height: 100vh; padding: 20px 0;">
        <div style="max-width: 600px; margin: 0 auto; background: linear-gradient(to right, #ffffff, #ffffff) !important; padding: 0 16px;">
            
            <!-- Header -->
            <div style="text-align: center; padding: 24px 0; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                <h1 class="brand-orange" style="font-size: 24px; font-weight: 700; margin-bottom: 12px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                    üÖ±Ô∏è Bizzin
                </h1>
                <h2 class="text-dark" style="font-size: 18px; font-weight: 600; margin-bottom: 6px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                    Good {{partOfDay}}, {{user.firstName}}!
                </h2>
                <p class="text-gray" style="font-size: 14px; margin: 0; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                    Your daily business digest for {{formattedDate}}
                </p>
            </div>

            <!-- Quote Section -->
            <div class="card" style="border-left: 4px solid #ea7a57 !important; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                <p style="font-size: 16px; font-style: italic; margin-bottom: 8px; line-height: 1.5; color: #1e293b !important; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                    "{{quote.text}}"
                </p>
                <div class="brand-orange" style="font-size: 11px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                    YOUR DAILY BUSINESS FUEL
                </div>
            </div>

            <!-- Stats Grid -->
            <div style="display: flex; gap: 8px; margin-bottom: 20px; background: linear-gradient(to right, #ffffff, #ffffff) !important;" class="stats-grid">
                <div style="flex: 1; background: linear-gradient(to right, #ffffff, #ffffff) !important;" class="stats-col">
                    <div class="stats-card">
                        <div class="brand-orange" style="font-size: 28px; font-weight: 700; line-height: 1; margin-bottom: 4px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                            {{stats.totalGoals}}
                        </div>
                        <div class="text-gray" style="font-size: 10px; font-weight: 500; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                            TOTAL GOALS
                        </div>
                    </div>
                </div>
                <div style="flex: 1; background: linear-gradient(to right, #ffffff, #ffffff) !important;" class="stats-col">
                    <div class="stats-card">
                        <div style="font-size: 28px; font-weight: 700; color: #10b981 !important; line-height: 1; margin-bottom: 4px; background: linear-gradient(to right, #ffffff, #ffffff) !important; -webkit-text-fill-color: #10b981 !important;">
                            {{stats.completedGoals}}
                        </div>
                        <div class="text-gray" style="font-size: 10px; font-weight: 500; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                            COMPLETED
                        </div>
                    </div>
                </div>
                <div style="flex: 1; background: linear-gradient(to right, #ffffff, #ffffff) !important;" class="stats-col">
                    <div class="stats-card">
                        <div class="brand-orange" style="font-size: 28px; font-weight: 700; line-height: 1; margin-bottom: 4px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                            {{stats.inProgressGoals}}
                        </div>
                        <div class="text-gray" style="font-size: 10px; font-weight: 500; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                            IN PROGRESS
                        </div>
                    </div>
                </div>
                <div style="flex: 1; background: linear-gradient(to right, #ffffff, #ffffff) !important;" class="stats-col">
                    <div class="stats-card">
                        <div class="brand-orange" style="font-size: 28px; font-weight: 700; line-height: 1; margin-bottom: 4px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                            {{stats.successRate}}%
                        </div>
                        <div class="text-gray" style="font-size: 10px; font-weight: 500; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                            SUCCESS RATE
                        </div>
                    </div>
                </div>
            </div>

            {{#if (gt stats.totalGoals 0)}}
            <!-- Active Goals Section -->
            <div class="card">
                <h3 class="text-dark" style="font-size: 16px; font-weight: 600; margin-bottom: 16px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                    Your Active Goals
                </h3>
                {{#each goalPreviews}}
                <div class="goal-card">
                    <h4 class="text-dark" style="font-size: 15px; font-weight: 600; margin-bottom: 8px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                        {{this.title}}
                    </h4>
                    {{#if this.description}}
                    <p class="text-gray" style="font-size: 13px; line-height: 1.4; margin-bottom: 12px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                        {{this.description}}
                    </p>
                    {{/if}}
                    <!-- Progress bar -->
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: {{this.progress}}%;"></div>
                    </div>
                    <p class="text-gray" style="font-size: 12px; margin: 0; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                        {{this.priority}} Priority ‚Ä¢ {{this.category}} ‚Ä¢ {{this.progress}}% Complete
                    </p>
                </div>
                {{/each}}
            </div>
            {{else}}
            <!-- No Goals CTA -->
            <div class="card" style="text-align: center; padding: 32px 20px !important;">
                <h3 class="text-dark" style="font-size: 18px; font-weight: 600; margin-bottom: 8px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                    Set and Track Your Business Goals
                </h3>
                <p class="text-gray" style="font-size: 14px; margin-bottom: 20px; line-height: 1.5; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                    Create objectives with progress tracking, priority levels, and milestone management
                </p>
                <a href="{{dashboardUrl}}/goals" class="btn">
                    Start Goal Tracking ‚Üí
                </a>
            </div>
            {{/if}}

            <!-- Journal Progress -->
            <div class="card">
                <h3 class="text-dark" style="font-size: 14px; font-weight: 600; margin-bottom: 8px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                    üìù Journal Progress
                </h3>
                <p class="text-gray" style="font-size: 13px; line-height: 1.5; margin-bottom: 12px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                    {{journalStatus.message}}
                </p>
                {{#if journalStatus.streakDays}}
                <p class="brand-orange" style="font-size: 12px; font-weight: 600; margin-bottom: 12px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                    {{journalStatus.streakDays}} day streak! You're building an amazing habit.
                </p>
                {{/if}}
                <a href="{{dashboardUrl}}/journal" class="btn">{{journalCTA}}</a>
            </div>

            <!-- Business Health Check -->
            <div class="card">
                <h3 class="text-dark" style="font-size: 14px; font-weight: 600; margin-bottom: 12px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                    üìä Business Health Check
                </h3>
                <div style="display: flex; gap: 24px; background: linear-gradient(to right, #ffffff, #ffffff) !important;" class="health-grid">
                    <div style="flex: 1; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                        <h4 class="text-dark" style="font-size: 13px; font-weight: 500; margin-bottom: 4px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                            Reflection Consistency
                        </h4>
                        <p class="text-gray" style="font-size: 13px; margin: 0; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                            {{healthCheck.reflectionStatus}}
                        </p>
                    </div>
                    <div style="flex: 1; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                        <h4 class="text-dark" style="font-size: 13px; font-weight: 500; margin-bottom: 4px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                            Business Sentiment
                        </h4>
                        <p class="text-gray" style="font-size: 13px; margin: 0; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                            {{healthCheck.sentimentStatus}}
                        </p>
                    </div>
                </div>
            </div>

            <!-- Today's Action Items -->
            <div class="card">
                <h3 class="text-dark" style="font-size: 14px; font-weight: 600; margin-bottom: 12px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                    Today's Action Items
                </h3>
                {{#each actionItems}}
                <div style="padding: 8px 0; border-bottom: 1px solid #f1f5f9; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                    <p class="text-dark" style="font-size: 13px; line-height: 1.4; margin: 0; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                        ‚Ä¢ {{this.text}}
                    </p>
                </div>
                {{/each}}
            </div>

            <!-- Today's Journal Prompt -->
            <div class="card">
                <h3 class="text-dark" style="font-size: 14px; font-weight: 600; margin-bottom: 8px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                    üìù Today's Journal Prompt
                </h3>
                <p class="text-gray" style="font-size: 13px; line-height: 1.5; margin-bottom: 16px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                    {{journalPrompt}}
                </p>
                <a href="{{dashboardUrl}}/journal" class="btn">{{journalCTA}}</a>
            </div>

            <!-- Dashboard CTA -->
            <div style="text-align: center; padding: 20px 0; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                <a href="{{dashboardUrl}}" class="btn" style="padding: 16px 32px; font-size: 15px;">
                    Open Your Dashboard
                </a>
            </div>

            <!-- Footer -->
            <div style="text-align: center; padding: 24px 0; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                <p class="text-dark" style="font-size: 15px; font-weight: 500; margin-bottom: 12px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                    Keep building your business success with Bizzin
                </p>
                <div style="margin-bottom: 16px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                    <a href="{{dashboardUrl}}/notifications" class="text-gray" style="font-size: 12px; text-decoration: none; margin: 0 8px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">Manage Notifications</a>
                    <span class="text-gray" style="font-size: 12px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">‚Ä¢</span>
                    <a href="{{dashboardUrl}}/profile" class="text-gray" style="font-size: 12px; text-decoration: none; margin: 0 8px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">Email Preferences</a>
                    <span class="text-gray" style="font-size: 12px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">‚Ä¢</span>
                    <a href="https://bizzin.co.za" class="text-gray" style="font-size: 12px; text-decoration: none; margin: 0 8px; background: linear-gradient(to right, #ffffff, #ffffff) !important;">Visit Bizzin</a>
                </div>
                <p class="text-gray" style="font-size: 11px; line-height: 1.4; margin: 0; background: linear-gradient(to right, #ffffff, #ffffff) !important;">
                    ¬© 2025 Bizzin. All rights reserved.<br>
                    Developed by CloudFusion
                </p>
            </div>

        </div>
    </div>
</body>
</html>